# 基于STM32 HAL库的ST7789 LCD屏幕驱动

## 简介

本项目基于中景园电子的驱动代码改进，简单实现了以下功能：

1. 硬件初始化
2. 绘制像素点
3. 绘制任意角度直线、矩形、圆
4. 绘制自定义图片
5. 绘制字符及字符串
6. 绘制无符号数及有符号数
7. 绘制浮点数

**注意：** 定义在 `lcd.c` 中的 `存储屏幕状态表` 仅针对绘制字符，目的是为了避免重复刷新已显示过的字符，节省时间。对于刷新时间要求不高的情况下可手动删除。

~~~C
//将此处设置为0即可
#define USE_CHAR_MEMORY 0
~~~

## 改进

本项目尝试优化了中景园电子的代码可读性和可维护性

1. 硬件初始化选项可高度自定义
2. 利用字符表实现了跳过刷新重复字符
3. 函数实现清晰可读

## 使用说明

使用 `git clone` 即可将本项目克隆到本地，将源文件添加到项目中即可使用。注意根据自己屏幕的实际情况调整 `lcd_font.c` 中的硬件初始化选项，每个屏幕的大小、朝向方向和刷新方向都各有需求，建议对照手册自行修改适配。

随后修改其中的 `#define` 包含的软件宏定义即可正常使用

| Define  | Description         |
| ------- | ------------------- |
| LCD_SPI | SPI_Handler         |
| LCD_CS  | Chip Select         |
| LCD_DC  | Data Command Switch |
| LCD_RST | Reset               |

关于BMP编解码功能，在使用前需要保证 `FatFs` 已引入项目，并保证SD卡驱动正常

## 补充

如有任何改进的提议，均可提出 `Issue` 或是 `Pull request` 
